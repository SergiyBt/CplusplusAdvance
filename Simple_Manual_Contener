#include <iostream>
#include <conio.h>
#include <string>

using namespace std;

class Person // Simple exemples of class
{
private:
	string name;
	string suname;
	int age;
public:
	Person():name(" "),suname(" "),age(0){}
	Person(string n,string s,int a):name(n),suname(s),age(a){}
	void show(){
		cout<<" Name "<<name<<endl
			<<" Suname "<<suname<<endl
			<<" Age "<<age<<endl;
	}
	string getName(){
		return name;
	}
	friend ostream& operator<<(ostream& os,Person p){
		os <<" Name "<<p.name<<endl
			<<" Suname "<<p.suname<<endl
			<<" Age "<<p.age<<endl;
		return os;
	}
};

class Array
{
private:
	Person* a;	
	int nElem; // Quantity of elemens
public:
	class Exeption{
	public:
		string name;
		int value;
		Exeption(string n,int v):name(n),value(v)
		{}
	}; 
	Array(){
		a = nullptr;
		nElem = 0;
	}
	Array(int max){
		a = new Person[max];
		nElem = 0;
	}
	~Array(){
		delete [] a;
	}
	int Elem(){
		return nElem;
	}
	bool find_slow(string searchname){  // Linear search !
		int j;
		for(j=0; j<nElem; j++)
			if(a[j].getName().compare(searchname) == 0)
				break;
		if(j == nElem)
			return false;
		else
			return true;
	}
	int find_fast(string searchname){   // Order array !
		int lowBound = 0;
		int upperBound = nElem - 1;
		int crnt;

		while(true){
			crnt = (lowBound + upperBound)/2;
			if(a[crnt].getName() == searchname)
				return crnt;
			else if(lowBound > upperBound)
			 throw Exeption(" Element is not found ! ",0);
			else{
				if(a[crnt].getName() < searchname)
					lowBound = crnt + 1;
				else
					upperBound = crnt - 1;			
			}		
		}
	}
	bool insert(string name,string suname,int age){
		a[nElem] = Person(name,suname,age);
		nElem++;	
		return true;
	}
	bool delet(string name){
		int j;
		for(j=0; j<nElem; j++)
			if(name == a[j].getName())
				break;
		if(j == nElem)
			return false;
		else{
			for(int k=j; k<nElem; k++)
				a[k] = a[k+1];
			nElem--;		
		}	
	}
	Person operator[](int i){
		if(i < 0 || i >= nElem)
			throw Exeption(" Entrance for array range ! ",i);
		return a[i];
	}
	void show(){
		for(int j=0; j<nElem; j++){
			a[j].show();
			cout<<endl;
		}
	} 
	/* ostream& operator<<(ostream& os,Array& a){
		for(int j=0; j<a.nElem; j++)
		os<<" [ "<<j<<" ] = "<<a[j]<<endl;
		return os;
	} */
};


int main(){
	
	Person a("Aaaa","afdsfs",34),b("Fklnkn","afasfdsf",34),c("Dsdfdsf","afsdfsf",33),d("Bdsf","asdfs",21);

	Array arr(10);

	arr.insert("Aaaa","afdsfs",34);
	arr.insert("Fklnkn","afasfdsf",34);
	arr.insert("Dsdfdsf","afsdfsf",33);
	arr.insert("Bdsf","asdfs",21);

	arr.show();

	//arr.delet("Aaaa");
		
	cout<<arr.find_slow("Bdsf");

	//arr.show();

	

	
_getch();
return 0;
}
